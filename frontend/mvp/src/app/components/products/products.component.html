<div class="products">
  <header>
    <button (click)="back()" class="back-button" *ngIf="secondPage" >
      <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="#2E2E2E"/> <!-- Dark Grey Arrow -->
      </svg>
    </button>
    <img src="../../../assets/logo.svg" alt="Logo" class="logo">
  </header>

  <div class="meals-container">
    <div (click)="changeCategory(category)"
    *ngFor="let category of categories" class="meal-tile">
      <img [src]="category.image" alt="category">
      <div class="legend">{{ category.name }}</div>
    </div>
  </div>

  <hr>

  <button (click)="previousPage()" *ngIf="maxPages > 1" [disabled]="currentPage === 1"
          class="pagination-button previous">←
  </button>
  <p *ngIf="maxPages > 1" class="currentPage">{{currentPage}} / {{maxPages}}</p>
  <button (click)="nextPage()" *ngIf="maxPages > 1" [disabled]="currentPage === maxPages"
          class="pagination-button next">→
  </button>
  <div class="smart-container">
  <div class="grid-container">
    <ng-container *ngFor="let item of displayedItems">
      <div class="vertical-tile">
        <ng-container >
          <img [src]="item.image" alt="{{ item.fullName }}">
          <button (click)="getInfo(item)" class="info-button">i</button>
          <div #itemName
               [ngClass]="{'scrolling': textOverflows(itemName)}"
               [title]="item.fullName"
               class="item-name">{{ item.fullName }}
          </div>
          <div class="item-footer">
            <div class="item-price">€{{ item.price }}</div>
            <button (click)="addItemToCart(item)" class="red-background">
              <svg fill="none" height="28px" viewBox="0 0 28 28" width="28px" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 12H20M12 4V20" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round"
                      stroke-width="2"/>
              </svg>
            </button>
          </div>
        </ng-container>

      </div>
    </ng-container>
  </div>
  </div>


  <div class="bottom-buttons">
    <button class="cancel" (click)="cancelOrder()">CANCEL ORDER</button>
    <button (click)="showCart()" class="cart">
      <span>CART </span>
      <div>
        <img src="../../../assets/cart.png" alt="Cart">
        <div class="item-count">{{ getItemCount() }}</div>
      </div>
    </button>
  </div>
</div>
